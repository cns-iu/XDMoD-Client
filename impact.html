<DOCTYPE! html>

<head>
  <meta charset=UTF-8 />
  <title>Funding and Publication Impact</title>
  <script src="lib/angular/angular.js"></script>
  <script src="lib/head.js"></script>
  <script src="src/Init.js"></script>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <script src="lib/jquery.min.js"></script>
<script src="lib/bootstrap.min.js"></script>
</head>

<body>
  <div ng-include="'partials/impact_usage_modal.html'"></div>
 <button type="button" class="btn btn-info btn-s" data-toggle="modal"
 data-target="#impactUsageModal" id="usageButton">
   <span class="glyphicon glyphicon-info-sign"></span> Usage </button>

  <div class="sankey">
    <!-- <style="overflow-y: scroll; height:1000px;"> -->
    <div class="container" id="container">
      <div ng-controller="ngCnsVisual"
      ng-vis-type="Sankey"
      id="sankey01"
      ng-data-field="sankeyData"
      ng-identifier="sankey01"
      ng-config="visuals/sankey01-configs.js">
    </div>
    <div class="legend-container legend">
      <button >
        <span>Legend</span>
      </button>
      <div class="legend-row">
        <img src="./images/legend.svg" alt="Discipline Legend">

      </div>
    </div>
  </div>
</div>

</body>
<script>

var legendToggleOff = true;
setTimeout(function() {
  $(document).ready(function() {
    $(".legend-container").click(function() {
      toggleLegend();
    });
  });
}, 2000)

function toggleLegend() {
  if (legendToggleOff) {
    $(".legend-container").animate({
      bottom: '0px'
    }, 20);
    legendToggleOff = false;
  } else {
    $(".legend-container").animate({
      bottom: '-280px'
    }, 75);
    legendToggleOff = true;
  }

}
</script>
</html>
